import{s as ae,r as ue,c as Y,o as de,n as ce,b as fe,f as me,a as se}from"../chunks/scheduler.vVLarB1H.js";import{S as pe,i as _e,e as b,s as I,c as h,a as L,d as a,f as T,r as P,k as _,g as v,h as y,u as le,v as A,n as Q,l as J,m as be,t as he,b as ve,w as U,j as ge,x as we,y as ke,z as ye,A as Ce,B as Ie,o as Te}from"../chunks/index.Cey7LFTx.js";import{g as xe}from"../chunks/entry.6BK1hbzo.js";import{N as q,g as ie,U as De}from"../chunks/Game.DRaXfNuJ.js";import"../chunks/Account.B8kVror_.js";import{C as Me}from"../chunks/Credits.CdMrX18y.js";function G(l){const e=l.slice(),n=e[5].homeMessage.message;e[11]=n;const o=e[5].homeMessage.type;return e[12]=o,e}function oe(l){let e,n,o=l[11]+"",d;return{c(){e=b("div"),n=b("div"),d=he(o),this.h()},l(i){e=h(i,"DIV",{class:!0});var t=L(e);n=h(t,"DIV",{class:!0});var c=L(n);d=ve(c,o),c.forEach(a),t.forEach(a),this.h()},h(){_(n,"class","font-semibold"),_(e,"class","p-2 mb-4 border-solid border-2 rounded-md"),U(e,"bg-red-300",l[12]==="error"),U(e,"border-red-400",l[12]==="error"),U(e,"bg-blue-300",l[12]==="info"),U(e,"border-blue-400",l[12]==="info")},m(i,t){v(i,e,t),y(e,n),y(n,d)},p(i,t){t&32&&o!==(o=i[11]+"")&&ge(d,o),t&32&&U(e,"bg-red-300",i[12]==="error"),t&32&&U(e,"border-red-400",i[12]==="error"),t&32&&U(e,"bg-blue-300",i[12]==="info"),t&32&&U(e,"border-blue-400",i[12]==="info")},d(i){i&&a(e)}}}function ne(l){let e,n,o,d="or",i,t,c,r,D='<div>Play with discord</div> <div class="text-xs">(Auto save progress with discord)</div>',C,g;return{c(){e=b("br"),n=I(),o=b("div"),o.textContent=d,i=I(),t=b("br"),c=I(),r=b("button"),r.innerHTML=D,this.h()},l(u){e=h(u,"BR",{}),n=T(u),o=h(u,"DIV",{"data-svelte-h":!0}),P(o)!=="svelte-1l9lwy7"&&(o.textContent=d),i=T(u),t=h(u,"BR",{}),c=T(u),r=h(u,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1fpp7zk"&&(r.innerHTML=D),this.h()},h(){_(r,"class","bg-[#916230] text-white px-4 py-2 rounded-md")},m(u,p){v(u,e,p),v(u,n,p),v(u,o,p),v(u,i,p),v(u,t,p),v(u,c,p),v(u,r,p),C||(g=A(r,"click",l[8]),C=!0)},p:ce,d(u){u&&(a(e),a(n),a(o),a(i),a(t),a(c),a(r)),C=!1,g()}}}function re(l){let e,n,o;function d(t){l[9](t)}let i={};return l[1]!==void 0&&(i.show=l[1]),e=new Me({props:i}),fe.push(()=>we(e,"show",d)),{c(){ke(e.$$.fragment)},l(t){ye(e.$$.fragment,t)},m(t,c){Ce(e,t,c),o=!0},p(t,c){const r={};!n&&c&2&&(n=!0,r.show=t[1],me(()=>n=!1)),e.$set(r)},i(t){o||(Q(e.$$.fragment,t),o=!0)},o(t){J(e.$$.fragment,t),o=!1},d(t){Ie(e,t)}}}function Ve(l){let e,n,o,d,i,t="World of Stony",c,r,D,C,g,u,p,x='<div>Play directly</div> <div class="text-xs">(No save)</div>',z,O,B,M,K='<a href="https://world.stonytv.com" target="_blank">world.stonytv.com</a>',S,H,V,X="Credits ðŸ“œ",j,E,Z='<a href="https://discord.gg/8CENA8EynT" target="_blank"><img class="w-[150px]" src="https://i.imgur.com/xBybnsD.png"/></a>',F,W,$,w=l[5].homeMessage.message&&oe(G(l)),k=!l[2]&&ne(l),f=l[1]&&re(l);return{c(){e=b("div"),n=I(),o=b("div"),d=b("div"),i=b("div"),i.textContent=t,c=I(),r=b("div"),w&&w.c(),D=I(),C=b("div"),g=b("input"),u=I(),p=b("button"),p.innerHTML=x,z=I(),k&&k.c(),O=I(),f&&f.c(),B=I(),M=b("div"),M.innerHTML=K,S=I(),H=b("div"),V=b("button"),V.textContent=X,j=I(),E=b("div"),E.innerHTML=Z,this.h()},l(s){e=h(s,"DIV",{class:!0}),L(e).forEach(a),n=T(s),o=h(s,"DIV",{class:!0});var m=L(o);d=h(m,"DIV",{class:!0});var R=L(d);i=h(R,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1fcqnle"&&(i.textContent=t),c=T(R),r=h(R,"DIV",{class:!0});var N=L(r);w&&w.l(N),D=T(N),C=h(N,"DIV",{class:!0});var ee=L(C);g=h(ee,"INPUT",{maxlength:!0,type:!0,placeholder:!0,class:!0}),ee.forEach(a),u=T(N),p=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-7ju0zz"&&(p.innerHTML=x),z=T(N),k&&k.l(N),N.forEach(a),R.forEach(a),m.forEach(a),O=T(s),f&&f.l(s),B=T(s),M=h(s,"DIV",{class:!0,"data-svelte-h":!0}),P(M)!=="svelte-lo7b36"&&(M.innerHTML=K),S=T(s),H=h(s,"DIV",{class:!0});var te=L(H);V=h(te,"BUTTON",{class:!0,"data-svelte-h":!0}),P(V)!=="svelte-1ts5i9i"&&(V.textContent=X),te.forEach(a),j=T(s),E=h(s,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-gfxlag"&&(E.innerHTML=Z),this.h()},h(){_(e,"class","absolute top-0 right-0 bottom-0 left-0 -z-10 bg-[url(https://i.imgur.com/YFwQtxl.png)] blur-md"),_(i,"class","font-bold text-3xl mb-10"),_(g,"maxlength","64"),_(g,"type","text"),_(g,"placeholder","Enter your username"),_(g,"class","rounded-md p-1"),_(C,"class","mb-5"),_(p,"class","bg-[#916230] text-white px-4 py-2 rounded-md"),_(r,"class","flex flex-col"),_(d,"class","text-center"),_(o,"class","h-[100vh] w-[100vw] flex items-center justify-center"),_(M,"class","absolute bottom-5 right-1 left-1 text-center font-bold"),_(V,"class","bg-gray-300/50 text-black rounded-md p-2 font-semibold px-2 py-2"),_(H,"class","absolute bottom-1 right-1"),_(E,"class","absolute bottom-1 left-1")},m(s,m){v(s,e,m),v(s,n,m),v(s,o,m),y(o,d),y(d,i),y(d,c),y(d,r),w&&w.m(r,null),y(r,D),y(r,C),y(C,g),le(g,l[0].login.username),y(r,u),y(r,p),y(r,z),k&&k.m(r,null),v(s,O,m),f&&f.m(s,m),v(s,B,m),v(s,M,m),v(s,S,m),v(s,H,m),y(H,V),v(s,j,m),v(s,E,m),F=!0,W||($=[A(g,"input",l[6]),A(g,"keydown",Ee),A(p,"click",l[7]),A(V,"click",l[10])],W=!0)},p(s,[m]){s[5].homeMessage.message?w?w.p(G(s),m):(w=oe(G(s)),w.c(),w.m(r,D)):w&&(w.d(1),w=null),m&1&&g.value!==s[0].login.username&&le(g,s[0].login.username),s[2]?k&&(k.d(1),k=null):k?k.p(s,m):(k=ne(s),k.c(),k.m(r,null)),s[1]?f?(f.p(s,m),m&2&&Q(f,1)):(f=re(s),f.c(),Q(f,1),f.m(B.parentNode,B)):f&&(Te(),J(f,1,1,()=>{f=null}),be())},i(s){F||(Q(f),F=!0)},o(s){J(f),F=!1},d(s){s&&(a(e),a(n),a(o),a(O),a(B),a(M),a(S),a(H),a(j),a(E)),w&&w.d(),k&&k.d(),f&&f.d(s),W=!1,ue($)}}}const Ee=l=>{l.stopImmediatePropagation(),l.stopPropagation()};function Ne(l,e,n){let o,d,i,t,c,r;Y(l,q,x=>n(4,t=x)),Y(l,ie,x=>n(0,c=x)),Y(l,De,x=>n(5,r=x)),de(()=>{if(t.ws){t.ws.close();return}});function D(){c.login.username=this.value,ie.set(c)}const C=()=>{o.replaceAll(" ","").length>0&&(se(q,t.use_auth=!1,t),xe("/play"))},g=()=>{se(q,t.use_auth=!0,t);const z=window.open("https://api.world.stonytv.com/login_with_discord","_blank","width=400,height=1500,menubar=no,toolbar=no,status=no,scrollbars=yes,resizable=yes");z.name=q.getPageUUID()};function u(x){i=x,n(1,i)}const p=()=>n(1,i=!i);return l.$$.update=()=>{l.$$.dirty&1&&n(3,o=c.login.username)},n(2,d=new URLSearchParams(window.location.search).get("demo")=="true"),n(1,i=!1),[c,i,d,o,t,r,D,C,g,u,p]}class Ae extends pe{constructor(e){super(),_e(this,e,Ne,Ve,ae,{})}}export{Ae as component};
